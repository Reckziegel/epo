<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Implements the Enhanced Portfolio Optimization (EPO) method as 
    described in Pedersen, Babu and Levine (2021). 
    &lt;doi:10.2139/ssrn.3530390&gt;.">
<title>Enhanced Portfolio Optimization (EPO) • epo</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Enhanced Portfolio Optimization (EPO)">
<meta property="og:description" content="Implements the Enhanced Portfolio Optimization (EPO) method as 
    described in Pedersen, Babu and Levine (2021). 
    &lt;doi:10.2139/ssrn.3530390&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">epo</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Reckziegel/epo/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="epo">epo<a class="anchor" aria-label="anchor" href="#epo"></a>
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
<p>The Enhanced Portfolio Optimization (EPO) method, described in Pedersen, Babu and Levine (2021), proposes a unifying theory on portfolio optimization. Employing Principal Component Analysis (PCA), the EPO method ranks portfolios based on their variance, from the most to the least important principal components. Notably, the least important principal components emerge as “problem portfolios”, primarily due to their low <em>estimated</em> risk, leading to the underestimation of their <em>true</em> risks. These portfolios offer high expected returns (<em>ex-ante</em>) and low realized Sharpe Ratios (<em>ex-post</em>), underscoring the challenges faced when using them through standard approaches.</p>
<p>To fix this issue, EPO introduces a straightforward yet powerful strategy: it shrinks correlations! The key insight from Pedersen, Babu, and Levine (2021) is that by reducing correlations close to zero, the volatilities of these “problem portfolios” are effectively increased. Consequently, the EPO method stabilizes Mean-Variance Optimization (MVO) by adjusting downward the Sharpe-Ratios of the least important components.</p>
<p>The elegance of the EPO approach lies in its connection to three leading methods: MVO, Bayesian Optimization, and Robust Optimization. By incorporating a closed-form solution with a single shrinkage parameter, denoted as <span class="math inline"><em>w</em> ∈ {0, 1}</span>, the investor can seamlessly navigate through the optimization process. In the “Simple EPO”, a <span class="math inline"><em>w</em> = 0</span> coincides with the classical MVO. Conversely, a <span class="math inline"><em>w</em> = 1</span> completely disregards correlations, resulting in a portfolio allocation that do not optimize.</p>
<p>In real-world applications, it is crucial to consider the potential deviation from a reference point or benchmark. EPO effectively handles this concern through the “Anchored EPO”. When a anchor needs to be considered, a <span class="math inline"><em>w</em> = 0</span> aligns with the classical MVO, while a <span class="math inline"><em>w</em> = 1</span> precisely matches the benchmark. The most interesting outcome arise when <span class="math inline">0 &lt; <em>w</em> &lt; 1</span>, leading to portfolios resembling the Black-Litterman model. Here, the shrinking parameter, <span class="math inline"><em>w</em></span>, tunes the confidence in the <em>prior</em>, offering a flexible and dynamic optimization process. However, unlike Black-Litterman, the “Anchored EPO” does not restrict the reference point to the “Market Portfolio,” making it more general and widely applicable.</p>
<p>Overall, the Enhanced Portfolio Optimization (EPO) method presents a novel, efficient, and adaptable framework for portfolio optimization. Its ability to address the limitations of traditional methods while incorporating various optimization approaches through a single parameter makes it a compelling tool for investors seeking more stable and well-tailored portfolios.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the official version from CRAN with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"epo"</span><span class="op">)</span></span></code></pre></div>
<p>Install the development version from github with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"Reckziegel/epo"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Reckziegel/epo" class="external-link">epo</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">EuStockMarkets</span><span class="op">)</span><span class="op">)</span> <span class="co"># stock returns</span></span>
<span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colMeans</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="co"># it could be any signal </span></span>
<span></span>
<span><span class="co">##################</span></span>
<span><span class="co">### The Simple EPO</span></span>
<span><span class="co">##################</span></span>
<span></span>
<span><span class="co"># Traditional Mean-Variance Analysis</span></span>
<span><span class="fu"><a href="reference/epo.html">epo</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, signal <span class="op">=</span> <span class="va">s</span>, method <span class="op">=</span> <span class="st">"simple"</span>, w <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  0.1914569  0.9894828 -0.3681779  0.1872382</span></span>
<span></span>
<span><span class="co"># 100% Shrinkage</span></span>
<span><span class="fu"><a href="reference/epo.html">epo</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, signal <span class="op">=</span> <span class="va">s</span>, method <span class="op">=</span> <span class="st">"simple"</span>, w <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.2352863 0.3659986 0.1375249 0.2611902</span></span>
<span></span>
<span><span class="co"># 50% Classical MVO and 50% Shrinkage</span></span>
<span><span class="fu"><a href="reference/epo.html">epo</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, signal <span class="op">=</span> <span class="va">s</span>, method <span class="op">=</span> <span class="st">"simple"</span>, w <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  0.223281853  0.564005906 -0.009868083  0.222580324</span></span>
<span></span>
<span><span class="co">####################</span></span>
<span><span class="co">### The Anchored EPO </span></span>
<span><span class="co">####################</span></span>
<span></span>
<span><span class="va">benchmark</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">4</span><span class="op">)</span> <span class="co"># 1/N Portfolio</span></span>
<span></span>
<span><span class="co"># Traditional Mean-Variance Analysis</span></span>
<span><span class="fu"><a href="reference/epo.html">epo</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, signal <span class="op">=</span> <span class="va">s</span>, method <span class="op">=</span> <span class="st">"anchored"</span>, w <span class="op">=</span> <span class="fl">0.0</span>, anchor <span class="op">=</span> <span class="va">benchmark</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  0.1914569  0.9894828 -0.3681779  0.1872382</span></span>
<span></span>
<span><span class="co"># 100% on the Anchor portfolio</span></span>
<span><span class="fu"><a href="reference/epo.html">epo</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, signal <span class="op">=</span> <span class="va">s</span>, method <span class="op">=</span> <span class="st">"anchored"</span>, w <span class="op">=</span> <span class="fl">1.0</span>, anchor <span class="op">=</span> <span class="va">benchmark</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.25 0.25 0.25 0.25</span></span>
<span></span>
<span><span class="co"># 50% on Mean-Variance Analysis and 50% on the Anchor Portfolio</span></span>
<span><span class="fu"><a href="reference/epo.html">epo</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, signal <span class="op">=</span> <span class="va">s</span>, method <span class="op">=</span> <span class="st">"anchored"</span>, w <span class="op">=</span> <span class="fl">0.5</span>, anchor <span class="op">=</span> <span class="va">benchmark</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.2374674 0.4557503 0.1004711 0.2063111</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li>Pedersen, Lasse Heje and Babu, Abhilash and Levine, Ari, Enhanced Portfolio Optimization (January 2, 2020). Lasse Heje Pedersen, Abhilash Babu, and Ari Levine (2021), Enhanced Portfolio Optimization, Financial Analysts Journal, 77:2, 124-151, DOI: 10.1080/0015198X.2020.1854543 , Available at SSRN: <a href="https://www.ssrn.com/abstract=3530390" class="external-link uri">https://www.ssrn.com/abstract=3530390</a> or <a href="https://dx.doi.org/10.2139/ssrn.3530390" class="external-link">http://dx.doi.org/10.2139/ssrn.3530390</a>
</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/Reckziegel/epo/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/Reckziegel/epo/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing epo</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Bernardo Reckziegel <br><small class="roles"> Author, maintainer, copyright holder </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/Reckziegel/epo/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/Reckziegel/epo/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/Reckziegel/epo?branch=main" class="external-link"><img src="https://codecov.io/gh/Reckziegel/epo/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Bernardo Reckziegel.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
